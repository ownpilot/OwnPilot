# OwnPilot Configuration
# Copy this file to .env and fill in your values
#
# RECOMMENDED: Use encrypted credential storage instead of this file!
#   ownpilot setup                      # Create encrypted store
#   ownpilot config set openai-api-key  # Add API key (encrypted)
#   OWNPILOT_PASSWORD=xxx ownpilot start
#
# Credentials stored in ~/.ownpilot/credentials.enc are encrypted
# with AES-256-GCM + PBKDF2 (600K iterations).

# ===========================================
# Master Password for Encrypted Credentials
# ===========================================
# If you use encrypted credential storage, set this to auto-unlock at startup
# OWNPILOT_PASSWORD=your-master-password

# ===========================================
# AI Provider API Keys (fallback if not using encrypted storage)
# ===========================================
OPENAI_API_KEY=sk-your-openai-api-key
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# ===========================================
# Server Configuration
# ===========================================
PORT=8080
HOST=0.0.0.0
NODE_ENV=development

# CORS (comma-separated origins, or * for all)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ===========================================
# Authentication
# ===========================================
# Auth type: none, api-key, jwt
AUTH_TYPE=none

# API Keys (comma-separated, for api-key auth)
API_KEYS=your-secret-api-key-1,your-secret-api-key-2

# JWT Secret (for jwt auth)
JWT_SECRET=your-super-secret-jwt-key-at-least-32-chars

# ===========================================
# Rate Limiting
# ===========================================
# Set to 'true' to completely disable rate limiting
RATE_LIMIT_DISABLED=false

# Time window in milliseconds
RATE_LIMIT_WINDOW_MS=60000

# Maximum requests per window (relaxed default: 500)
RATE_LIMIT_MAX=500

# Burst limit: allow temporary spikes up to this amount (default: 1.5x max)
RATE_LIMIT_BURST=750

# Soft limit: if true, warn but don't block (recommended for personal use)
RATE_LIMIT_SOFT=true

# ===========================================
# Telegram Bot
# ===========================================
# Get your token from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# Allowed users (comma-separated Telegram user IDs)
# Leave empty to allow all users
TELEGRAM_ALLOWED_USERS=

# Allowed chats (comma-separated Telegram chat IDs)
# Leave empty to allow all chats
TELEGRAM_ALLOWED_CHATS=

# ===========================================
# AI Agent Configuration
# ===========================================
SYSTEM_PROMPT=You are a helpful AI assistant. Be concise and friendly.

# ===========================================
# Data Storage
# ===========================================
# Directory for SQLite database (memories, goals, triggers, plans)
DATA_DIR=./data

# ===========================================
# Database Configuration
# ===========================================
# Database type: sqlite (default) or postgres
DB_TYPE=sqlite

# SQLite-specific (used when DB_TYPE=sqlite)
# SQLITE_PATH=./data/ownpilot.db
# SQLITE_MEMORY=false

# PostgreSQL-specific (used when DB_TYPE=postgres)
# Option 1: Full connection URL
# DATABASE_URL=postgresql://ownpilot:ownpilot_secret@localhost:25432/ownpilot

# Option 2: Individual settings
POSTGRES_HOST=localhost
POSTGRES_PORT=25432
POSTGRES_USER=ownpilot
POSTGRES_PASSWORD=ownpilot_secret
POSTGRES_DB=ownpilot
POSTGRES_POOL_SIZE=10

# Verbose database logging
DB_VERBOSE=false

# ===========================================
# Autonomous AI Settings
# ===========================================
# Default autonomy level (0=Manual, 1=Assisted, 2=Supervised, 3=Autonomous, 4=Full)
DEFAULT_AUTONOMY_LEVEL=1

# Enable proactive triggers (schedule-based, condition-based automation)
ENABLE_PROACTIVE_TRIGGERS=false

# Trigger engine check interval in milliseconds
TRIGGER_CHECK_INTERVAL=60000

# ===========================================
# Privacy & Security
# ===========================================
# Enable PII detection and redaction
ENABLE_PII_REDACTION=true

# Encryption key for secure storage (32 bytes hex)
ENCRYPTION_KEY=

# ===========================================
# Logging
# ===========================================
LOG_LEVEL=info
LOG_FORMAT=json
